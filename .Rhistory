setwd("C:/Users/corma/OneDrive/Desktop/DM_Models")
shiny::runApp('C:/Users/corma/OneDrive/Desktop/Credit-Risk-Predicting-Shiny-Dashboard')
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_data <- read.csv(file.path(path_data, "01__German_Credit_Data/01a_Data.csv"))
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_data <- read.csv(file.path(path_data, "01__German_Credit_Data/01a__Data.csv"))
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
German_Data <- read.csv(file.path(path_data, "01__German_Credit_Data/01a__Data.csv"))
View(German_Data)
str(German_Data)
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_Data <- read.csv(file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01a__Data.csv"))
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_Data <- read.csv(file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.csv"))
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_Data <- readxl::read_xlsx(file.path(path_data,
"03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
str(German_Data)
rm(list=ls()) # Clearing work space
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
Taiwan_Data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
str(Taiwan_Data)
# Processing -------------------------------------------------------------------
?cut
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
View(taiwan_data)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID)
View(taiwan_data_processed)
boxplot(taiwan_data_processed)
taiwan_data_processed<-taiwan_data_processed[taiwan_data_processed$LIMIT_BAL<1000000,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT1<0,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT1>7e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT2>6e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT3>6e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT3<0,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT4>6e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT5>6e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT5<0,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT6>6e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$BILL_AMT6<0,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT1>3e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT2>5e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT3>4e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT4>3e+05,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT5>350000,]
taiwan_data_processed<-taiwan_data_processed[!taiwan_data_processed$PAY_AMT6>3e+05,]
boxplot(taiwan_data_processed)
boxplot(taiwan_data_processed)
View(taiwan_data_processed)
View(taiwan_data_processed)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000,
BILL_AMT < 0)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000,
BILL_AMT1 < 0)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000 & BILL_AMT1 < 0)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000 | BILL_AMT1 < 0)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000 | BILL_AMT1 < 0 | BILL_AMT1 > 7e+05)
View(taiwan_data_processed)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
taiwan_data_processed <- taiwan_data %>%
select(-ID)
boxplot(taiwan_data_processed)$out
install.packages("ggstatsplot")
ggstatsplot::ggbetweenstats(taiwan_data_processed, outlier.tagging = TRUE)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 > 7e+05)
View(taiwan_data_processed)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 < 7e+05)
View(taiwan_data_processed)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(Bill_AMT_1 < 0 | BILL_AMT1 < 7e+05)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT_1 < 0 | BILL_AMT1 < 7e+05)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 < 0 | BILL_AMT1 < 7e+05)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 < 0 | BILL_AMT1 > 7e+05)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 < 0 | BILL_AMT1 < 7e+05)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(BILL_AMT1 < 0)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(!BILL_AMT1 < 0)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(!BILL_AMT1 < 0 | BILL_AMT1 < 7e+05)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(!BILL_AMT1 < 0 & BILL_AMT1 < 7e+05)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000)
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(!BILL_AMT1 < 0 & BILL_AMT1 < 746814)
View(taiwan_data_processed)
select(-c(ID, SEX, EDUCATION, MARRIAGE, AGE, Defaults)
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
taiwan_data_processed <- taiwan_data %>%
select(-ID) %>%
filter(LIMIT_BAL < 1000000) %>%
filter(!BILL_AMT1 < 0 & BILL_AMT1 < 746814)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
# Processing -------------------------------------------------------------------
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
rename(Defaults = `default payment next month`) %>%
select(-c(ID, SEX, EDUCATION, MARRIAGE, AGE, Defaults))
View(taiwan_data_numerical)
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(-c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)
ID, SEX, EDUCATION, MARRIAGE, AGE, PAY_0, PAY_2,
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(-c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
View(taiwan_data_numerical)
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
View(taiwan_data_numerical)
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6))) %>%
abs(scale())
View(taiwan_data_numerical)
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6))) %>%
abs(scale(taiwan_data_numerical))
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
z <- abs(scale(taiwan_data_numerical))
View(z)
taiwan_data_numerical <- taiwan_data_numerical[z <= threshold, ]
threshold <- 3
taiwan_data_numerical <- taiwan_data_numerical[z <= threshold, ]
z <- as.dataframe(abs(scale(taiwan_data_numerical)))
z <- as.data.frame(abs(scale(taiwan_data_numerical)))
taiwan_data_numerical <- taiwan_data_numerical[z <= threshold, ]
View(z)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
# Processing -------------------------------------------------------------------
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
# Removing outliers
taiwan_data_numerical <- taiwan_data %>%
select(c(LIMIT_BAL, paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
View(taiwan_data_numerical)
q1 <- quantile(taiwan_data_numerical, 0.25)
View(taiwan_data_numerical)
boxplot(taiwan_data_numerical)
rm(list=ls()) # Clearing work space
outliers <- function(x) {
Q1 <- quantile(x, probs = 0.25)
Q3 <- quantile(x, probs = 0.75)
iqr = Q3 - Q1
upper_limit = Q3 + (iqr * 1.5)
lower_limit = Q1 - (iqr * 1.5)
x > upper_limit | x < lower_limit
}
remove_outliers <- function(df, cols = names(df)) {
for (col in cols) {
df <- df[!outliers(df[[col]]), ]
}
df
}
rm(list=ls()) # Clearing work space
source("02__Models/01__Testing/01__Functions.R")
rm(list=ls()) # Clearing work space
source("02__Models/01__Testing/01__Functions.R")
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
# Processing -------------------------------------------------------------------
# First we need to remove outliers from the dataset
# Selecting numerical data
taiwan_data_numerical <- taiwan_data %>%
select(c(LIMIT_BAL, paste0("BILL_AMT", 1:6), paste0("PAY_AMT", 1:6)))
remove_outliers(taiwan_data_numerical)
taiwan_data_numerical <- remove_outliers(taiwan_data_numerical)
View(taiwan_data_numerical)
boxplot(taiwan_data_numerical)
View(taiwan_data)
rm(list=ls()) # Clearing work space
library(tidymodels)
library(tidyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- readxl::read_xlsx(
file.path(path_data, "03__Credit_Card_Default_(Taiwan)/01__Data.xlsx"))
# Processing -------------------------------------------------------------------
# First we split the categorical columns into multiple binary columns
Taiwan_data_processed <- Taiwan_data %>%
mutate(
# SEX
SEX = ifelse(SEX == 1, 0, 1),
# EDUCATION
highschool = ifelse(EDUCATION == 3, 1, 0),
university = ifelse(EDUCATION == 2, 1, 0),
graduate_school = ifelse(EDUCATION == 1, 1, 0),
other_education = ifelse(EDUCATION == 4, 1, 0),
unknown_education = ifelse(EDUCATION %in% c(5, 6), 1, 0),
# MARRIAGE
single = ifelse(MARRIAGE == 2, 1, 0),
married = ifelse(MARRIAGE == 1, 1, 0),
other_marriage = ifelse(MARRIAGE == 3, 1, 0)
) %>%
select(-c(EDUCATION, MARRIAGE)) %>% # Removing the categorical columns
rename(Defaults = "default payment next month") # Renaming
# Processing -------------------------------------------------------------------
# First we split the categorical columns into multiple binary columns
taiwan_data_processed <- taiwan_data %>%
mutate(
# SEX
SEX = ifelse(SEX == 1, 0, 1),
# EDUCATION
highschool = ifelse(EDUCATION == 3, 1, 0),
university = ifelse(EDUCATION == 2, 1, 0),
graduate_school = ifelse(EDUCATION == 1, 1, 0),
other_education = ifelse(EDUCATION == 4, 1, 0),
unknown_education = ifelse(EDUCATION %in% c(5, 6), 1, 0),
# MARRIAGE
single = ifelse(MARRIAGE == 2, 1, 0),
married = ifelse(MARRIAGE == 1, 1, 0),
other_marriage = ifelse(MARRIAGE == 3, 1, 0)
) %>%
select(-c(EDUCATION, MARRIAGE)) %>% # Removing the categorical columns
rename(Defaults = "default payment next month") # Renaming
View(taiwan_data_processed)
# Processing -------------------------------------------------------------------
# First we split the categorical columns into multiple binary columns
taiwan_data_processed <- taiwan_data %>%
mutate(
# SEX
SEX = ifelse(SEX == 1, 0, 1),
# EDUCATION
highschool = ifelse(EDUCATION == 3, 1, 0),
university = ifelse(EDUCATION == 2, 1, 0),
graduate_school = ifelse(EDUCATION == 1, 1, 0),
other_education = ifelse(EDUCATION == 4, 1, 0),
unknown_education = ifelse(EDUCATION %in% c(5, 6), 1, 0),
# MARRIAGE
single = ifelse(MARRIAGE == 2, 1, 0),
married = ifelse(MARRIAGE == 1, 1, 0),
other_marriage = ifelse(MARRIAGE == 3, 1, 0)
) %>%
select(-c(ID, EDUCATION, MARRIAGE)) %>% # Removing the categorical columns
rename(Defaults = "default payment next month") # Renaming
View(taiwan_data_processed)
View(taiwan_data)
table(taiwan_data$EDUCATION)
View(taiwan_data_processed)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
taiwan_data <- read.csv(file.path(path_data, "01__German_Credit_Data/01a__Data.csv"))
View(taiwan_data)
rm(list=ls()) # Clearing work space
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
german_data <- read.csv(
file.path(path_data, "01__German_Credit_Data/01a__Data.csv"))
# Processing -------------------------------------------------------------------
View(german_data)
install.packages("fairml")
rm(list=ls()) # Clearing work space
library(fairml)
library(dplyr)
data("german.credit")
View(german.credit)
View(german.credit)
rm(list=ls()) # Clearing work space
library(fairml)
library(dplyr)
# Reading in data --------------------------------------------------------------
path_data <- "./01__Data/"
german_data <- read.csv(
file.path(path_data, "01__German_Credit_Data/01a__Data.csv"))
data("german.credit")
# Processing -------------------------------------------------------------------
View(german_data)
